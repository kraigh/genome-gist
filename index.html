<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Extract clinically relevant SNPs from your genome file. Privacy-first: your data never leaves your browser." />
    <title>GenomeGist - Extract the gist of your genome</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ§¬</text></svg>" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <div class="page-background"></div>
    <div class="container">
      <header>
        <div class="logo">
          <img src="/dna.png" alt="" class="logo-icon" />
          <h1>GenomeGist</h1>
        </div>
        <p class="tagline">Extract the gist of your genome.</p>
      </header>

      <main>
        <section id="tool" class="tool-section card">
          <div id="upload-zone" class="upload-zone">
            <div class="upload-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7 10V9C7 6.23858 9.23858 4 12 4C14.7614 4 17 6.23858 17 9V10C19.2091 10 21 11.7909 21 14C21 16.2091 19.2091 18 17 18H16M12 12V21M12 12L15 15M12 12L9 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <p class="upload-text">Drag and drop your genome file here</p>
            <p class="upload-subtext">or click to browse</p>
            <p class="upload-formats">Supports: 23andMe (.txt)</p>
            <input type="file" id="file-input" accept=".txt,.csv" hidden />
          </div>

          <div id="status" class="status" hidden>
            <div class="status-icon">
              <svg class="spinner" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" opacity="0.2"/>
                <path d="M12 2C6.47715 2 2 6.47715 2 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <p id="status-text"></p>
          </div>

          <div id="preview" class="preview" hidden>
            <div class="preview-header">
              <svg class="preview-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 12H15M9 16H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L18.7071 8.70711C18.8946 8.89464 19 9.149 19 9.41421V19C19 20.1046 18.1046 21 17 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M13 3V8C13 8.55228 13.4477 9 14 9H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <div class="preview-info">
                <p class="preview-format">Format detected: <strong id="detected-format">23andMe v5</strong></p>
                <p class="preview-count">Total variants in file: <strong id="variant-count">0</strong></p>
              </div>
            </div>

            <div class="category-filter">
              <label class="filter-label">What would you like to extract?</label>

              <div class="preset-options">
                <label class="preset-option">
                  <input type="radio" name="category-preset" value="wellness" checked />
                  <span class="preset-radio"></span>
                  <span class="preset-content">
                    <span class="preset-name">Wellness Only</span>
                    <span class="preset-desc">Nutrition, methylation, neurotransmitters, detox</span>
                  </span>
                </label>
                <label class="preset-option">
                  <input type="radio" name="category-preset" value="full" />
                  <span class="preset-radio"></span>
                  <span class="preset-content">
                    <span class="preset-name">Full Report</span>
                    <span class="preset-desc">Includes drug response and cardiovascular</span>
                  </span>
                </label>
              </div>

              <details class="category-details">
                <summary>Customize categories</summary>
                <div class="category-checkboxes" id="category-checkboxes">
                  <!-- Generated dynamically by JavaScript -->
                </div>
              </details>
            </div>

            <div class="preview-estimate">
              <p>Estimated matches: <strong id="estimate-count">0</strong> variants</p>
            </div>

            <div class="preview-actions">
              <button id="back-btn" class="btn btn-secondary">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Upload Different File
              </button>
              <button id="extract-btn" class="btn btn-primary">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15M9 5C9 6.10457 9.89543 7 11 7H13C14.1046 7 15 6.10457 15 5M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5M9 14L11 16L15 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Extract Variants
              </button>
            </div>
          </div>

          <div id="results" class="results" hidden>
            <div class="results-header">
              <svg class="results-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p id="results-summary"></p>
            </div>

            <div class="format-selector">
              <label class="format-label">Output format:</label>
              <div class="format-options">
                <label class="format-option">
                  <input type="radio" name="output-format" value="detailed" checked />
                  <span class="format-radio"></span>
                  <span class="format-content">
                    <span class="format-name">Detailed</span>
                    <span class="format-desc">Human-readable with annotations</span>
                  </span>
                </label>
                <label class="format-option">
                  <input type="radio" name="output-format" value="compact" />
                  <span class="format-radio"></span>
                  <span class="format-content">
                    <span class="format-name">Compact</span>
                    <span class="format-desc">AI-optimized, smaller file</span>
                  </span>
                </label>
                <label class="format-option">
                  <input type="radio" name="output-format" value="minimal" />
                  <span class="format-radio"></span>
                  <span class="format-content">
                    <span class="format-name">Minimal</span>
                    <span class="format-desc">CSV format, smallest size</span>
                  </span>
                </label>
              </div>
            </div>

            <div class="download-row">
              <button id="download-btn" class="btn btn-primary">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M12 3V15M12 15L7 10M12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Download Results
              </button>
              <span id="file-size" class="file-size"></span>
            </div>
          </div>

          <div id="error" class="error" hidden>
            <svg class="error-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <p id="error-text"></p>
          </div>
        </section>

        <section class="info-section card">
          <h2>What is this?</h2>
          <p>
            GenomeGist extracts clinically and wellness-relevant genetic variants (SNPs) from raw
            genome files exported from services like 23andMe. The output is a compact file
            ready for analysis with AI tools like ChatGPT or Claude.
          </p>

          <h3>What are SNPs?</h3>
          <p>
            SNPs (single nucleotide polymorphisms, pronounced "snips") are small genetic variations
            that make you unique. Your genome file from 23andMe contains data on hundreds of thousands
            of these variants. Most are unremarkable, but some are associated with health traits,
            drug metabolism, or nutritional needs.
          </p>
          <p>
            GenomeGist extracts just the variants that researchers have linked to meaningful traits,
            filtering out the noise so you can focus on what matters.
          </p>

          <h3>How to use the output</h3>
          <p>
            The extracted file is designed to be uploaded to AI assistants for personalized analysis.
            You can:
          </p>
          <ul>
            <li>Ask about specific variants and what they mean</li>
            <li>Get personalized supplement or nutrition suggestions based on your genetics</li>
            <li>Understand how you might respond to certain medications</li>
            <li>Explore your ancestry-related genetic markers</li>
          </ul>
          <p>
            The compact output format keeps the file small enough to upload without hitting
            context limits, while including enough information for meaningful analysis.
          </p>
        </section>

        <section class="categories-section card">
          <h2>What's Included</h2>
          <p>
            We extract variants across several categories. Choose "Wellness Only" for lifestyle
            optimization, or "Full Report" to include medical and pharmacogenomic markers.
          </p>

          <div class="category-grid">
            <div class="category-item">
              <h3>Methylation</h3>
              <p>MTHFR and related genes affecting folate metabolism and homocysteine levels.
                 Relevant for B-vitamin supplementation.</p>
            </div>
            <div class="category-item">
              <h3>Nutrition</h3>
              <p>Vitamin D metabolism, lactose tolerance, obesity risk factors, and caffeine
                 sensitivity.</p>
            </div>
            <div class="category-item">
              <h3>Neurotransmitters</h3>
              <p>COMT, BDNF, and dopamine-related variants affecting mood, focus, and stress
                 response.</p>
            </div>
            <div class="category-item">
              <h3>Drug Response</h3>
              <p>CYP2C19, CYP2D6, and other genes affecting how you metabolize medications.
                 Important for personalized medicine.</p>
            </div>
            <div class="category-item">
              <h3>Cardiovascular</h3>
              <p>APOE and other markers associated with heart health and lipid metabolism.</p>
            </div>
            <div class="category-item">
              <h3>Detoxification</h3>
              <p>Genes involved in clearing toxins and environmental compounds from your body.</p>
            </div>
          </div>
        </section>

        <section class="faq-section card">
          <h2>Frequently Asked Questions</h2>

          <details class="faq-item">
            <summary>How do I get my genome file?</summary>
            <p>
              If you've done a DNA test with 23andMe, you can download your raw data from their
              website. Go to Settings &gt; Privacy &gt; Download Your Data. The file will be a .txt
              file containing your genetic data.
            </p>
          </details>

          <details class="faq-item">
            <summary>Is my data safe?</summary>
            <p>
              Yes. All processing happens locally in your browser. Your genome file is never
              uploaded to any server. The only network requests this tool makes are to load the
              application itself and the SNP reference list.
            </p>
          </details>

          <details class="faq-item">
            <summary>What AI tools work with the output?</summary>
            <p>
              The output file works with any AI assistant that accepts file uploads: ChatGPT
              (with GPT-4), Claude, Google Gemini, and others. The "Compact" format is optimized
              for AI context limits.
            </p>
          </details>

          <details class="faq-item">
            <summary>Why are some variants marked "no-call"?</summary>
            <p>
              A "no-call" means the genotyping array couldn't reliably determine your genotype
              at that position. This can happen due to sample quality or technical limitations.
              These variants are included but marked so you know the data is uncertain.
            </p>
          </details>

          <details class="faq-item">
            <summary>What's the difference between Wellness and Full Report?</summary>
            <p>
              Wellness Only includes nutrition, methylation, and neurotransmitter variants -
              useful for lifestyle optimization. Full Report adds pharmacogenomics (drug response)
              and cardiovascular markers, which have more direct medical implications.
            </p>
          </details>

          <details class="faq-item">
            <summary>Can I use this for medical decisions?</summary>
            <p>
              No. This tool is for educational and research purposes only. Genetic variants are
              just one factor in health outcomes. Always consult a healthcare provider or genetic
              counselor for medical advice.
            </p>
          </details>
        </section>

        <section class="privacy-section card">
          <div class="privacy-header">
            <svg class="privacy-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <h2>Privacy</h2>
          </div>
          <p>
            <strong>Your genetic data never leaves your browser.</strong> All processing happens
            locally on your device. We don't upload, store, or transmit your genome file.
            The only network requests are for loading the application itself.
          </p>
        </section>

        <section class="pricing-section card">
          <h2>Pricing</h2>
          <div class="pricing-grid">
            <div class="pricing-tier">
              <h3>Free</h3>
              <p class="tier-desc">~15 common SNPs including MTHFR, APOE, COMT</p>
              <p class="price">$0</p>
            </div>
            <div class="pricing-tier pricing-tier-highlight">
              <h3>Full Report</h3>
              <p class="tier-desc">1,000+ clinically relevant variants</p>
              <p class="price">Coming soon</p>
            </div>
          </div>
        </section>

        <section id="disclaimer" class="disclaimer-section card">
          <h2>Disclaimer</h2>
          <p>
            <strong>This tool is for research and educational purposes only.</strong>
            The information provided is NOT medical advice. Genetic variants may have different
            effects depending on other genetic and environmental factors.
          </p>
          <p>
            Consult a healthcare provider or genetic counselor for interpretation of genetic data.
            The annotations are derived from public databases (ClinVar, PharmGKB, SNPedia) and
            may not reflect the most current scientific understanding.
          </p>
          <p>
            GenomeGist does not diagnose, treat, cure, or prevent any disease. Do not make
            health decisions based solely on this information.
          </p>
        </section>
      </main>

      <footer>
        <p>
          GenomeGist v1.0.0 Â·
          <a href="#disclaimer">Disclaimer</a> Â·
          For research and educational use only
        </p>
        <p class="attribution">
          DNA icon by <a href="https://www.flaticon.com/free-icons/dna" target="_blank" rel="noopener">Flaticon</a>
        </p>
      </footer>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
